# Flow

┌--------------------------------------------------------------------------┐
| # index.php                                                              |
|                                                                          |
| ┌ require -------------------------------------------------------------┐ |
| | # wp-blog-header.php                                                 | |
| |                                                                      | |
| | ┌ require_once ----------------------------------------------------┐ | |
| | | # wp-load.php                                                    | | |
| | |                                                                  | | |
| | | [false] wp-config.php exists                                     | | |
| | |                                                                  | | |
| | | [false] ../wp-config.php exists & ../wp-settings.php not exists  | | |
| | |                                                                  | | |
| | | ┌ require_once ------------------------------------------------┐ | | |
| | | | # wp-includes/load.php                                       | | | |
| | | └--------------------------------------------------------------┘ | | |
| | |                                                                  | | |
| | | wp_fix_server_vars() @wp-includes/load.php                       | | |
| | |                                                                  | | |
| | | ┌ require_once ------------------------------------------------┐ | | |
| | | | # wp-includes/functions.php                                  | | | |
| | | |                                                              | | | |
| | | | ┌ require -------------------------------------------------┐ | | | |
| | | | | # wp-includes/option.php                                 | | | | |
| | | | └----------------------------------------------------------┘ | | | |
| | | └--------------------------------------------------------------┘ | | |
| | |                                                                  | | |
| | | wp_guess_url() @wp-includes/functions.php                        | | |
| | |                                                                  | | |
| | | [true] not requesting setup-config                               | | |
| | | |                                                                | | |
| | | └ -> wp-admin/setup-config.php                                   | | |
| | |                                                                  | | |
| | └------------------------------------------------------------------┘ | |
| └----------------------------------------------------------------------┘ |
└--------------------------------------------------------------------------┘

┌-------------------------------------------------------------------------------------┐
| # wp-admin/setup-config.php                                                         |
|                                                                                     |
| ┌ require ------------------------------------------------------------------------┐ |
| | # wp-settings.php                                                               | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/load.php                                                      | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/default-constants.php                                         | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/version.php                                                   | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | wp_initial_constants() @wp-includes/default-constants.php                       | |
| |                                                                                 | |
| | wp_check_php_mysql_versions() @wp-includes/load.php                             | |
| |                                                                                 | |
| | wp_unregister_GLOBALS() @wp-includes/load.php                                   | |
| |                                                                                 | |
| | wp_fix_server_vars() @wp-includes/load.php                                      | |
| |                                                                                 | |
| | wp_favicon_request() @wp-includes/load.php                                      | |
| |                                                                                 | |
| | wp_maintenance() @wp-includes/load.php                                          | |
| | |                                                                               | |
| | └ [true] .maintenance not exists or WP_INSTALLING defined                       | |
| |                                                                                 | |
| | timer_start() @wp-includes/load.php                                             | |
| |                                                                                 | |
| | wp_debug_mode() @wp-includes/load.php                                           | |
| | |                                                                               | |
| | └ [false] WP_DEBUG                                                              | |
| |                                                                                 | |
| | [false] WP_CACHE                                                                | |
| |                                                                                 | |
| | wp_set_lang_dir() @wp-includes/load.php                                         | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/compat.php                                                    | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/functions.php                                                 | | |
| | |                                                                             | | |
| | | ┌ require ----------------------------------------------------------------┐ | | |
| | | | # wp-includes/option.php                                                | | | |
| | | └-------------------------------------------------------------------------┘ | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/class-wp.php                                                  | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/class-wp-error.php                                            | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/plugin.php                                                    | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/pomo/mo.php                                                   | | |
| | |                                                                             | | |
| | | ┌ require_once -----------------------------------------------------------┐ | | |
| | | | # wp-includes/pomo/translations.php                                     | | | |
| | | |                                                                         | | | |
| | | | ┌ require_once -------------------------------------------------------┐ | | | |
| | | | | # wp-includes/pomo/entry.php                                        | | | | |
| | | | └---------------------------------------------------------------------┘ | | | |
| | | └-------------------------------------------------------------------------┘ | | |
| | |                                                                             | | |
| | | ┌ require_once -----------------------------------------------------------┐ | | |
| | | | # wp-includes/pomo/streams.php                                          | | | |
| | | └-------------------------------------------------------------------------┘ | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | require_wp_db() @wp-includes/load.php                                           | |
| | |                                                                               | |
| | ├ require_once ---------------------------------------------------------------┐ | |
| | | # wp-includes/wp-db.php                                                     | | |
| | ├-----------------------------------------------------------------------------┘ | |
| | |                                                                               | |
| | └ new wpdb() @wp-includes/wp-db.php                                             | |
| |                                                                                 | |
| | wp_set_wpdb_vars() @wp-includes/load.php                                        | |
| | |                                                                               | |
| | └ is_wp_error() @wp-includes/class-wp-error.php                                 | |
| |                                                                                 | |
| | wp_start_object_cache() @wp-includes/load.php                                   | |
| | |                                                                               | |
| | ├ require_once ---------------------------------------------------------------┐ | |
| | | # wp-includes/cache.php                                                     | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | ┌ require --------------------------------------------------------------------┐ | |
| | | # wp-includes/default-filters.php                                           | | |
| | |                                                                             | | |
| | | add_filter() @wp-includes/plugin.php                                        | | |
| | | |                                                                           | | |
| | | └ _wp_filter_build_unique_id() @wp-includes/plugin.php                      | | |
| | |                                                                             | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | register_shutdown_function( 'shutdown_action_hook' )                            | |
| | |                                                                               | |
| | └ shutdown_action_hook() @wp-includes/load.php                                  | |
| |   |                                                                             | |
| |   ├ do_action( 'shutdown' )                                                     | |
| |   |                                                                             | |
| |   └ wp_cache_close();                                                           | |
| |                                                                                 | |
| | [false] SHORTINIT                                                               | |
| |                                                                                 | |
| | ┌ require_once ---------------------------------------------------------------┐ | |
| | | # wp-includes/l10n.php                                                      | | |
| | └-----------------------------------------------------------------------------┘ | |
| |                                                                                 | |
| | wp_not_installed() @wp-includes/load.php                                        | |
| | |                                                                               | |
| | ├ [false] is_multisite() @wp-includes/load.php                                  | |
| | |                                                                               | |
| | ├ [false] is_blog_installed() @wp-includes/functions.php                        | |
| | | |                                                                             | |
*** Maybe need `if ( function_exists( 'wp_cache_init' ) )` ****************************
| | | ├ wp_cache_get() @wp-includes/cache.php                                       | |
***************************************************************************************
| | | |                                                                             | |
*** Maybe need `if ( function_exists( 'wp_cache_init' ) )` ****************************
| | | ├ wp_cache_set() @wp-includes/cache.php                                       | |
***************************************************************************************
| | | |                                                                             | |
| | | ├ $wpdb->suppress_errors() @wp-includes/wp-db.php                             | |
| | | |                                                                             | |
| | | ├ $wpdb->tables() @wp-includes/wp-db.php                                      | |
| | | |                                                                             | |
| | | ├ wp_load_translations_early() @wp-includes/load.php                          | |
| | | | |                                                                           | |
| | | | ├ require ----------------------------------------------------------------┐ | |
| | | | | # wp-includes/version.php                                               | | |
| | | | ├-------------------------------------------------------------------------┘ | |
| | | | |                                                                           | |
| | | | ├ require_once -----------------------------------------------------------┐ | |
| | | | | # wp-includes/pomo/mo.php                                               | | |
| | | | |                                                                         | | |
| | | | | ┌ require_once -------------------------------------------------------┐ | | |
| | | | | | # wp-includes/pomo/translations.php                                 | | | |
| | | | | |                                                                     | | | |
| | | | | | ┌ require_once ---------------------------------------------------┐ | | | |
| | | | | | | # wp-includes/pomo/entry.php                                    | | | | |
| | | | | | └-----------------------------------------------------------------┘ | | | |
| | | | | └---------------------------------------------------------------------┘ | | |
| | | | |                                                                         | | |
| | | | | ┌ require_once -------------------------------------------------------┐ | | |
| | | | | | # wp-includes/pomo/streams.php                                      | | | |
| | | | | └---------------------------------------------------------------------┘ | | |
| | | | ├-------------------------------------------------------------------------┘ | |
| | | | |                                                                           | |
| | | | ├ require_once -----------------------------------------------------------┐ | |
| | | | | # wp-includes/l10n.php                                                  | | |
| | | | ├-------------------------------------------------------------------------┘ | |
| | | | |                                                                           | |
| | | | ├ require_once -----------------------------------------------------------┐ | |
| | | | | # wp-includes/locale.php                                                | | |
| | | | ├-------------------------------------------------------------------------┘ | |
| | | | |                                                                           | |
| | | | ├ require_once -----------------------------------------------------------┐ | |
| | | | | # wp-includes/plugin.php                                                | | |
| | | | ├-------------------------------------------------------------------------┘ | |
| | | | |                                                                           | |
| | | | ├ load_textdomain() @wp-includes/l10n.php                                   | |
| | | | | |                                                                         | |
| | | | | ├ apply_filters( 'override_load_textdomain' ) @wp-includes/plugin.php     | |
| | | | | | |                                                                       | |
| | | | | | └ _wp_call_all_hook() @wp-includes/plugin.php                           | |
| | | | | |                                                                         | |
| | | | | ├ do_action( 'load_textdomain' ) @wp-includes/plugin.php                  | |
| | | | | | |                                                                       | |
| | | | | | └ _wp_call_all_hook() @wp-includes/plugin.php                           | |
| | | | | |                                                                         | |
| | | | | └ new MO() @wp-includes/pomo/mo.php                                       | |
| | | | |   < class Gettext_Translations @wp-includes/pomo/translations.php         | |
| | | | |     < class Translations @wp-includes/pomo/translations.php               | |
| | | | |       |                                                                   | |
| | | | |       └ new Translation_Entry() @wp-includes/pomo/entry.php               | |
| | | | |                                                                           | |
| | | | ├ new WP_Locale() @wp-includes/locale.php                                   | |
| | | | |                                                                           | |
| | | | ├ __() @wp-includes/l10n.php                                                | |
| | | | | |                                                                         | |
| | | | | └ translate() @wp-includes/l10.php                                        | |
| | | | |   |                                                                       | |
| | | | |   ├ get_translations_for_domain() @wp-includes/l10.php                    | |
| | | | |   | |                                                                     | |
| | | | |   | └ new NOOP_Translations @wp-includes/pomo/translations.php            | |
| | | | |   |                                                                       | |
| | | | |   └ apply_filters( 'gettext' ) @wp-includes/plugin.php                    | |
| | | | |                                                                           | |
| | | | └ _x() @wp-includes/l10n.php                                                | |
| | | |   |                                                                         | |
| | | |   └ translate_with_gettext_context() @wp-includes/l10n.php                  | |
| | | |     |                                                                       | |
| | | |     └ apply_filters( 'gettext_with_context' ) @wp-includes/plugin.php       | |
| | | |                                                                             | |
| | | └ dead_db() @wp-includes/functions.php                                        | |<
| | |                                                                               | |
| | ├ wp_cache_get() @wp-includes/cache.php                                         | |
| | |                                                                               | |
| | └                                                                               | |
| |                                                                                 | |
| |                                                                                 | |
| |                                                                                 | |
| |                                                                                 | |
| |                                                                                 | |




***********************************************************************
| | | | |                                                           | |
| | | | └ wp_cache_init() @wp-includes/cache.php                    | |
| | | |   |                                                         | |
| | | |   └ new WP_Object_Cache() @wp-includes/cache.php            | |
***********************************************************************



| |  wp_maintenance() @wp-includes/load.php
| |     |
| |     ├ include ---------------┐
| |     | # .maintenance
| |     ├------------------------┘
| |     |
| |     └ wp_load_translations_early() @wp-includes/load.php
| |         |
| |         ├ require -------------------┐
| |         | # wp-includes/version.php
| |         ├----------------------------┘
| |         |
| |         ├ require_once ----------------------------┐
| |         | # wp-includes/pomo/mo.php
| |         |
| |         | ┌ require_once ------------------------┐
| |         | | # wp-includes/pomo/translations.php
| |         | |
| |         | | ┌ require_once ----------------┐
| |         | | | # wp-includes/pomo/entry.php
| |         | | └------------------------------┘
| |         | |
| |         | └--------------------------------------┘
| |         |
| |         | ┌ require_once -------------------┐
| |         | | # wp-includes/pomo/streams.php
| |         | └---------------------------------┘
| |         |
| |         ├------------------------------------------┘
| |         |
| |         ├ require_once --------------┐
| |         | # wp-includes/l10n.php
| |         ├----------------------------┘
| |         |
| |         ├ require_once --------------┐
| |         | # wp-includes/locale.php
| |         ├----------------------------┘
| |         |
| |         ├ require_once --------------┐
| |         | # wp-includes/plugin.php
| |         ├----------------------------┘
| |         |
| |         └ load_textdomain() @wp-includes/l10n.php
| |             |
| |             ├ apply_filters( 'override_load_textdomain' ) @wp-includes/plugin.php
| |             |   |
| |             |   └ _wp_call_all_hook() @wp-includes/plugin.php
| |             |
| |             ├ do_action( 'load_textdomain' ) @wp-includes/plugin.php
| |             |   |
| |             |   └ _wp_call_all_hook() @wp-includes/plugin.php
| |             |
| |             └ new MO() @wp-includes/pomo/mo.php
| |                 < class Gettext_Translations @wp-includes/pomo/translations.php
| |                     < class Translations @wp-includes/pomo/translations.php
| |                         |
| |                         └ new Translation_Entry() @wp-includes/pomo/entry.php
